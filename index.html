<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Doughlicious Pizza ‚Äî Home made base</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#b91c1c;       /* deep red */
      --accent-2:#e74b3c;
      --bg:#f7f6f5;           /* light grey/off-white */
      --card:#ffffff;
      --muted:#555557;
      --radius:14px;
      --shadow: 0 10px 30px rgba(30,30,30,0.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:linear-gradient(180deg,var(--bg),#fff);
      color:#222;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    /* card layout */
    .wrap{
      width:100%;
      max-width:980px;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex;
      gap:0;
      flex-direction:row;
    }
    @media (max-width:880px){
      .wrap{flex-direction:column;padding:18px}
    }

    /* left: content */
    .main{
      flex:1;
      padding:28px;
    }

    header{
      display:flex;
      gap:14px;
      align-items:center;
      margin-bottom:20px;
    }
    .logo{
      width:64px;height:64px;border-radius:12px;
      background:linear-gradient(135deg,#ffd6a5,#ffafcc);
      display:flex;align-items:center;justify-content:center;font-size:28px;box-shadow:0 6px 18px rgba(0,0,0,0.06)
    }
    h1{margin:0;font-size:1.25rem;color:var(--accent-2)}
    .tag{margin:2px 0 0;font-size:0.9rem;color:var(--muted)}

    .menu-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-top:10px}
    @media (max-width:720px){ .menu-grid{grid-template-columns:1fr} }

    .menu-card{
      background:linear-gradient(180deg,#fff,#fffaf7);
      border-radius:10px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:8px;
      border:1px solid #f0eaea;
    }
    .menu-card img{width:100%;height:160px;object-fit:cover;border-radius:8px}
    .menu-title{display:flex;align-items:center;justify-content:space-between;width:100%}
    .price{color:var(--accent);font-weight:700}
    .radio-row{margin-top:6px;display:flex;gap:8px;align-items:center}
    .toppings{width:100%;margin-top:8px;display:flex;flex-wrap:wrap;gap:8px;justify-content:center}
    .toppings label{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:8px;background:#fff;border:1px solid #f2f2f2;font-size:0.95rem;cursor:pointer}
    .add-note{font-size:0.85rem;color:var(--muted);margin-top:6px;text-align:center}

    /* right: summary / action */
    .side{
      width:360px;
      border-left:1px solid #f3f1f1;
      padding:26px;
      background:linear-gradient(180deg,#fff,#fffefc);
    }
    @media (max-width:880px){ .side{width:100%;border-left:none;border-top:1px solid #f3f1f1} }

    .summary-title{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .summary-box{margin-top:12px;background:#fff;border-radius:10px;padding:12px;border:1px solid #f3f2f2;box-shadow:0 6px 18px rgba(0,0,0,0.03)}
    .line{display:flex;justify-content:space-between;padding:8px 4px}
    .small{font-size:0.9rem;color:var(--muted)}
    .total{font-weight:700;font-size:1.15rem;color:#222;margin-top:12px}

    .cta{margin-top:14px;display:flex;gap:10px;flex-direction:column}
    .btn{background:var(--accent);color:#fff;padding:12px;border-radius:10px;border:none;font-weight:700;cursor:pointer;font-size:1rem}
    .btn.ghost{background:#fff;border:1px solid #eee;color:var(--muted)}
    .btn:disabled{opacity:0.55;cursor:not-allowed}

    .qr-wrap{margin-top:16px;text-align:center}
    .qr-wrap img{width:200px;height:200px;border-radius:10px;border:1px solid #f0f0f0}
    .pay-head{margin-top:12px;font-weight:700}

    footer{margin-top:18px;font-size:0.92rem;color:var(--muted);text-align:center}

    input[type="tel"], input[type="text"]{width:100%;padding:10px;border-radius:8px;border:1px solid #eee;margin-top:8px}
    label.inline{display:flex;align-items:center;gap:8px}
    .muted-block{margin-top:8px;font-size:0.88rem;color:var(--muted)}
  </style>
</head>
<body>

  <div class="wrap" role="main" aria-labelledby="main-heading">

    <!-- left: content -->
    <div class="main">
      <header>
        <div class="logo" aria-hidden>üçï</div>
        <div>
          <h1 id="main-heading">Doughlicious Pizza</h1>
          <div class="tag">Home made base</div>
        </div>
      </header>

      <section aria-label="Menu">
        <div class="menu-grid" id="menuGrid">
          <!-- Two menu cards (Margherita & With Toppings) are injected by JS.
               The images used in code reference "photo1.jpg" and "photo2.jpg".
               Place those files next to this HTML file. -->
        </div>
        <div class="add-note">Select a pizza and choose toppings (if available). Order summary updates instantly.</div>
      </section>

    </div>

    <!-- right: summary and actions -->
    <aside class="side" aria-label="Order summary and payment">
      <div class="summary-title">
        <div>
          <div style="font-size:1.05rem;font-weight:700">Order Summary</div>
          <div class="small">Live update as you choose</div>
        </div>
      </div>

      <div class="summary-box" id="summaryBox">
        <div class="line"><div class="small">Selected Pizza</div><div id="selPizza" class="small">‚Äî</div></div>
        <div class="line"><div class="small">Toppings</div><div id="selToppings" class="small">‚Äî</div></div>
        <div class="line"><div class="small">Pickup</div><div id="pickupInfo" class="small">Pick from: PC 406</div></div>

        <div class="total" id="totalPrice">Total: ‚Çπ0</div>

        <div style="margin-top:12px">
          <label class="small">Your phone number (optional, for confirmation)</label>
          <input type="tel" id="custPhone" placeholder="+9198xxxx..." inputmode="tel" />
        </div>

        <div class="cta">
          <button id="waBtn" class="btn" title="Order on WhatsApp">Order on WhatsApp</button>
          <button id="clearBtn" class="btn ghost">Clear selection</button>
        </div>

        <div class="pay-head">Pay Here</div>
        <div class="muted-block">Scan to pay exact amount via UPI</div>
        <div class="qr-wrap" id="qrWrap" aria-live="polite" style="display:none">
          <img id="qrImg" alt="UPI QR Code" src="" />
          <div class="small muted-block">UPI ID: <strong>bhardwajtanu1989@okhdfcbank</strong></div>
        </div>
      </div>

      <footer>
        <div>Contact: <strong>+919910563777</strong></div>
        <div>Pick from: <strong>PC 406</strong></div>
      </footer>
    </aside>

  </div>

  <script>
    /*****************************************************************
     * Doughlicious Pizza - Single page interactive menu
     * - Put the images "photo1.jpg" (Margherita) and "photo2.jpg" (With Toppings)
     *   in the same folder as this file.
     * - The UPI QR uses Google's Chart API to generate QR images dynamically.
     *   QR encodes a UPI payment URI including the exact amount.
     *****************************************************************/

    // menu data
    const MENU = [
      {
        id: 'margherita',
        name: 'Margherita',
        price: 160,
        img: 'photo1.jpg',
        toppingsAvailable: false,
        toppings: []
      },
      {
        id: 'with_toppings',
        name: 'Pizza with Toppings',
        price: 180,
        img: 'photo2.jpg',
        toppingsAvailable: true,
        toppings: ['Onion','Tomato','Paneer','Capsicum','Corn']
      }
    ];

    // DOM refs
    const menuGrid = document.getElementById('menuGrid');
    const selPizzaEl = document.getElementById('selPizza');
    const selToppingsEl = document.getElementById('selToppings');
    const totalPriceEl = document.getElementById('totalPrice');
    const waBtn = document.getElementById('waBtn');
    const clearBtn = document.getElementById('clearBtn');
    const custPhone = document.getElementById('custPhone');
    const qrWrap = document.getElementById('qrWrap');
    const qrImg = document.getElementById('qrImg');

    // state
    let selectedPizzaId = null;
    let selectedToppings = []; // array of strings
    let totalAmount = 0;

    // UPI details
    const UPI_ID = 'bhardwajtanu1989@okhdfcbank';
    const UPI_PAYEE_NAME = 'Doughlicious Pizza';

    // WhatsApp number to send to (owner)
    const WA_NUMBER = '919910563777';

    // Render menu cards
    function renderMenu(){
      menuGrid.innerHTML = '';
      MENU.forEach(item => {
        const card = document.createElement('article');
        card.className = 'menu-card';
        card.innerHTML = `
          <img src="${item.img}" alt="${item.name} photo" onerror="this.style.opacity=0.6; this.nextElementSibling.style.display='block'">
          <div class="menu-title">
            <div style="text-align:left">
              <div style="font-weight:700">${item.name}</div>
              <div class="small">${item.toppingsAvailable ? 'Choose toppings below' : 'Classic & simple'}</div>
            </div>
            <div class="price">‚Çπ${item.price}</div>
          </div>

          <div class="radio-row">
            <label style="display:flex;align-items:center;gap:8px">
              <input type="radio" name="pizzaSelect" value="${item.id}" ${item.id === 'margherita' ? 'checked' : ''}>
              <span class="small">Select</span>
            </label>
          </div>

          <div style="display:none" class="image-fallback small">Image not available ‚Äî replace photo files.</div>
        `;

        // toppings UI (if available)
        if(item.toppingsAvailable){
          const topWrap = document.createElement('div');
          topWrap.className = 'toppings';
          item.toppings.forEach(tp => {
            const lid = `${item.id}-tp-${tp.toLowerCase()}`;
            const lab = document.createElement('label');
            lab.innerHTML = `<input type="checkbox" id="${lid}" data-topping="${tp}"> ${tp}`;
            topWrap.appendChild(lab);
          });
          card.appendChild(topWrap);
        }

        menuGrid.appendChild(card);
      });

      // attach events
      document.getElementsByName('pizzaSelect').forEach(r => {
        r.addEventListener('change', (e) => {
          selectedPizzaId = e.target.value;
          // When switching pizza, clear toppings selections
          selectedToppings = [];
          // Uncheck all topping checkboxes
          document.querySelectorAll('.toppings input[type="checkbox"]').forEach(cb => cb.checked = false);
          recompute();
        });
      });

      // attach checkbox handlers
      document.querySelectorAll('.toppings input[type="checkbox"]').forEach(cb => {
        cb.addEventListener('change', (e) => {
          const topping = e.target.getAttribute('data-topping');
          if(e.target.checked){
            selectedToppings.push(topping);
          } else {
            selectedToppings = selectedToppings.filter(t => t !== topping);
          }
          recompute();
        });
      });

      // default initial selection = first radio if none selected
      const checked = document.querySelector('input[name="pizzaSelect"]:checked');
      selectedPizzaId = checked ? checked.value : MENU[0].id;
    }

    // Recompute totals and update UI
    function recompute(){
      // find selected pizza
      const pizza = MENU.find(m => m.id === selectedPizzaId) || MENU[0];
      // total is pizza price (toppings don't add extra in this design)
      totalAmount = pizza.price;
      // update summary text
      selPizzaEl.textContent = pizza.name;
      selToppingsEl.textContent = (selectedToppings.length ? selectedToppings.join(', ') : 'None');

      totalPriceEl.textContent = `Total: ‚Çπ${totalAmount}`;

      // Update WhatsApp button (precompute URL)
      const summaryLines = [];
      summaryLines.push(`Order for Doughlicious Pizza:`);
      summaryLines.push(`${pizza.name} - ‚Çπ${pizza.price}`);
      if(selectedToppings.length) summaryLines.push(`Toppings: ${selectedToppings.join(', ')}`);
      summaryLines.push(`Total: ‚Çπ${totalAmount}`);
      const phoneVal = (custPhone.value || '').trim();
      if(phoneVal) summaryLines.push(`Customer phone: ${phoneVal}`);
      const finalMessage = encodeURIComponent(summaryLines.join('\n'));

      waBtn.onclick = () => {
        if(totalAmount <= 0){
          alert('Please select a pizza first.');
          return;
        }
        const waUrl = `https://wa.me/${WA_NUMBER}?text=${finalMessage}`;
        window.open(waUrl, '_blank');
      };

      // Update QR code for UPI
      updateUpiQr(totalAmount);
    }

    // Build UPI payload and set QR image src; hide if amount is zero
    function updateUpiQr(amount){
      if(!amount || amount <= 0){
        qrWrap.style.display = 'none';
        qrImg.src = '';
        return;
      }
      qrWrap.style.display = 'block';

      // UPI URI format
      // pa = payee VPA, pn = payee name, am = amount, cu = currency
      const upiUri = `upi://pay?pa=${encodeURIComponent(UPI_ID)}&pn=${encodeURIComponent(UPI_PAYEE_NAME)}&am=${encodeURIComponent(amount.toFixed(2))}&cu=INR`;
      // Use Google Chart API to generate QR as an image
      // Encode the UPI URI
      const q = encodeURIComponent(upiUri);
      // size 400x400 for clarity on phones
      qrImg.src = `https://chart.googleapis.com/chart?cht=qr&chs=400x400&chl=${q}&chld=L|1`;
      qrImg.alt = `UPI QR code for ‚Çπ${amount.toFixed(2)}`;
    }

    // Clear selection
    clearBtn.addEventListener('click', () => {
      // reset radio to default first
      const firstRadio = document.querySelector('input[name="pizzaSelect"]');
      if(firstRadio) firstRadio.checked = true;
      selectedPizzaId = firstRadio ? firstRadio.value : MENU[0].id;
      selectedToppings = [];
      document.querySelectorAll('.toppings input[type="checkbox"]').forEach(cb => cb.checked = false);
      custPhone.value = '';
      recompute();
    });

    // react to customer phone change to include in WA message immediately
    custPhone.addEventListener('input', recompute);

    // initial render and compute
    renderMenu();
    recompute();

    // Accessibility: allow enter key on WA button to open same link
    waBtn.addEventListener('keyup', (e) => { if(e.key === 'Enter') waBtn.click(); });

    // If images missing, the img fallback style will indicate image not available.
    // NOTE for you: replace "photo1.jpg" and "photo2.jpg" with actual images in the same folder.
  </script>

</body>
</html>
